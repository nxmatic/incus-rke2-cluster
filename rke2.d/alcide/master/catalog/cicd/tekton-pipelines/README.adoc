== Tekton Pipelines kpt Package

This package installs Tekton via the Tekton Operator v0.78.1 using a static
release manifest plus a `+TektonConfig+` set to `+profile: all+` in the
`+tekton-pipelines+` namespace.

=== What’s included

* `+release-operator-v0.78.1.yaml+`: upstream operator release (CRDs, RBAC,
    deployments, webhooks, defaults ConfigMaps).
* `+tektonconfig-all.yaml+`: `+TektonConfig+` with `+profile: all+`,
    `+targetNamespace: tekton-pipelines+`, and a pruner keeping 100 runs on a
    `+0 8 * * *+` schedule for both `+taskrun+` and `+pipelinerun+`.

=== Workflow

[arabic]
. *Fetch the package into the downstream/state repo* so every cluster keeps its own copy of the TektonConfig if you want to tweak it per cluster.
+
@codebase
[source,bash]
----
kpt pkg get https://github.com/nxmatic/rke2lab.git/rke2.d/catalog/cicd/tekton-pipelines \
        packagevariants/bioskop/cicd/tekton-pipelines
----
. *Optional:* adjust `+tektonconfig-all.yaml+` if a cluster needs a different
    profile, namespace, or pruner settings.
. *Render/apply* via your usual pipeline (e.g., `+kpt fn render+` → state repo →
    `+rke2-kpt-deploy+`). No Helm rendering or secret setters are required.

=== Notes

* Defaults point the operator to install payloads into `+tekton-pipelines+`.
* Secrets are not referenced directly; the operator manages components after
    installation.
* If you bump the operator version, replace the release manifest and update the
    `+Kptfile+` description accordingly.
