== Porch Resources kpt Package

This package bootstraps namespaces, repositories, and PackageVariants
consumed by Porch. The upstream copy only carries placeholder setters in
`+porch-resources-setters.yaml+`; create a per-cluster clone in the
downstream/state repository and override them there.

NOTE: Secrets such as `ghcr-pull` and `github-token` now live in the
`+kpt/system/replicator-resources+` package and replicate into
`porch-system`. This package’s kpt pipeline includes a
`delete-resources` step so those namespace-local secrets stay pruned
after `+kpt pkg update+`.

=== Workflow

[arabic]
. `+kpt pkg get+` this package into
`+packagevariants/<name>/system/porch-resources+` (or similar) inside
the downstream repo.
. Update `+porch-resources-setters.yaml+` with the cluster’s SSH keys,
network ranges, and state-repo metadata (encrypt edits with SOPS in the
downstream repo).
. Run `+kpt fn render+` and commit the rendered manifests alongside the
other cluster assets so Flux can apply them after bootstrap.
