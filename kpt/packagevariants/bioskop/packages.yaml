apiVersion: catalog.kpt.dev/v1alpha1
kind: PackageComposition
metadata:
  name: bioskop
  annotations:
    description.kpt.dev: Catalog packages that must be cloned into the bioskop downstream repo
spec:
  packages:
    - name: ha/kube-vip
      upstream: kpt/catalog/ha/kube-vip
      target: packagevariants/bioskop/cluster/ha/kube-vip
      note: Control-plane VIP and failover daemonset
    - name: networking/cilium
      upstream: kpt/catalog/networking/cilium
      target: packagevariants/bioskop/cluster/networking/cilium
      note: BGP, L2 announcements, and LoadBalancer IPAM
    - name: mesh/tailscale
      upstream: kpt/catalog/mesh/tailscale
      target: packagevariants/bioskop/cluster/mesh/tailscale
      note: Tailscale operator + connector
    - name: mesh/headscale
      upstream: kpt/catalog/mesh/headscale
      target: packagevariants/bioskop/cluster/mesh/headscale
      note: Self-hosted Headscale server and bootstrap job
    - name: networking/envoy-gateway
      upstream: kpt/catalog/networking/envoy-gateway
      target: packagevariants/bioskop/cluster/networking/envoy-gateway
      note: Envoy Gateway installation and GatewayClass
    - name: runtime/flox-containerd-shim
      upstream: kpt/catalog/runtime/flox-containerd-shim
      target: packagevariants/bioskop/cluster/runtime/flox-containerd-shim
      note: Flox imageless runtime shim and RuntimeClass
    - name: storage/openebs-zfs
      upstream: kpt/catalog/storage/openebs-zfs
      target: packagevariants/bioskop/cluster/storage/openebs-zfs
      note: OpenEBS ZFS CSI chart (optional/high-risk)
