== Tekton Pipelines kpt Package

This package embeds the Tekton Pipelines Helm chart via the
`+render-helm-chart+` function. The default `+tekton-setters.yaml+`
carries sample values only; copy this package per cluster and override
the setters before rendering.

=== Workflow

[arabic]
. *Fetch the package*
+
[source,bash]
----
 kpt pkg get https://github.com/nxmatic/incus-rke2-cluster.git/kpt/system/tekton-pipelines \
    packagevariants/bioskop/system/tekton-pipelines
----
. *Edit setters for the cluster*: update `+tekton-setters.yaml+` with
the namespace, release name, Git credentials, and Docker auth JSON (use
SOPS within the downstream repo to encrypt secrets).
. *Render locally*
+
[source,bash]
----
kpt fn render packagevariants/bioskop/system/tekton-pipelines --output ../../state/packagevariants/bioskop/system/tekton-pipelines
----
. *Encrypt secrets in the rendered output* (downstream/state repo) and
commit so Flux can reconcile the manifests at bootstrap.

=== Notes

* The root package never stores live credentials; every cluster copy
should maintain its own `+tekton-setters.yaml+` tracked in the
downstream repository.
* Tekton manifests are delivered to the cluster via Flux after the
downstream/state repository syncs during bootstrap.
